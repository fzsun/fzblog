<!DOCTYPE html>
<html lang class="has-navbar-fixed-top">
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="Zotero 管理文献最佳实践： （1）安装与设置">




  <meta name="keywords" content="折腾,">





  <link rel="alternate" type="application/rss+xml" title="atom 1.0" href="/feed">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">



<link rel="canonical" href="http://blog.fangzhou.me/posts/20181220-zotero-tips-1/">


<meta name="description" content="Zotero 是一个非常好用的开源文献管理软件。我从入坑至今已经用了三年。Zotero 的使用非常自由，插件、选项都很多，并没有通用的标准使用流程。这对新手来说并不太友好。正确方法是先看前人的总结（我就是前人 _(:з」∠)_ 。我在使用过程中遇到了不少坑，花了很久才摸索出一套正确的 workflow。现在各种技巧的使用已经得心应手。 Zotero 的新手可以参考网上已有的中文教程这里和这里。本文">
<meta name="keywords" content="折腾">
<meta property="og:type" content="article">
<meta property="og:title" content="Zotero 管理文献最佳实践： （1）安装与设置">
<meta property="og:url" content="http://blog.fangzhou.me/posts/20181220-zotero-tips-1/index.html">
<meta property="og:site_name" content="蓝雨衣">
<meta property="og:description" content="Zotero 是一个非常好用的开源文献管理软件。我从入坑至今已经用了三年。Zotero 的使用非常自由，插件、选项都很多，并没有通用的标准使用流程。这对新手来说并不太友好。正确方法是先看前人的总结（我就是前人 _(:з」∠)_ 。我在使用过程中遇到了不少坑，花了很久才摸索出一套正确的 workflow。现在各种技巧的使用已经得心应手。 Zotero 的新手可以参考网上已有的中文教程这里和这里。本文">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://blog.fangzhou.me/images/Zotero/Zotero_Main_Interface.png">
<meta property="og:image" content="http://blog.fangzhou.me/images/Zotero/addons_manager.png">
<meta property="og:image" content="http://blog.fangzhou.me/images/Zotero/Zotero_General.png">
<meta property="og:image" content="http://blog.fangzhou.me/images/Zotero/Zotero_Sync.png">
<meta property="og:image" content="http://blog.fangzhou.me/images/Zotero/Mac_Symlink.png">
<meta property="og:updated_time" content="2019-03-24T19:42:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Zotero 管理文献最佳实践： （1）安装与设置">
<meta name="twitter:description" content="Zotero 是一个非常好用的开源文献管理软件。我从入坑至今已经用了三年。Zotero 的使用非常自由，插件、选项都很多，并没有通用的标准使用流程。这对新手来说并不太友好。正确方法是先看前人的总结（我就是前人 _(:з」∠)_ 。我在使用过程中遇到了不少坑，花了很久才摸索出一套正确的 workflow。现在各种技巧的使用已经得心应手。 Zotero 的新手可以参考网上已有的中文教程这里和这里。本文">
<meta name="twitter:image" content="http://blog.fangzhou.me/images/Zotero/Zotero_Main_Interface.png">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.1/katex.min.css">
<link rel="stylesheet" href="https://at.alicdn.com/t/font_1105623_1z430yjk15h.css">
<link rel="stylesheet" type="text/css" href="/css/style.css">

<script>
  (function(d) {
    var config = {
      kitId: 'wqu5pou',
      scriptTimeout: 3000,
      async: true
    },
    h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
  })(document);
</script>


    <title> Zotero 管理文献最佳实践： （1）安装与设置 - 蓝雨衣 </title>
  </head>

  <body>
    <header class="section"><nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="navbar-menu">
    <div class="navbar-start">
      <a class="navbar-item" href="/.">
        蓝雨衣
      </a>
    </div>
    <div class="navbar-end">
    
        
            <a class="navbar-item is-tab" href="/archives">
                
                
                    Archives
                
            </a>
        
            <a class="navbar-item is-tab" href="/about">
                
                
                    About
                
            </a>
        
    
    </div>
  </div>
</nav>

    </header>

    <div class="section" id="content">
        
<div class="columns">
    <div class="column is-9" id="primary">
        <div class="content">
        
    <article class="post">
      <header class="post-header">
        <div class="post-title">
          
            Zotero 管理文献最佳实践： （1）安装与设置
          
        </div>
        <time class="post-time">
            Dec 20 2018
        </time>
      </header>

    
            <div class="post-content">
            <p>Zotero 是一个非常好用的开源文献管理软件。我从入坑至今已经用了三年。Zotero 的使用非常自由，插件、选项都很多，并没有通用的标准使用流程。这对新手来说并不太友好。正确方法是先看前人的总结（我就是前人 _(:з」∠)_ 。我在使用过程中遇到了不少坑，花了很久才摸索出一套正确的 workflow。现在各种技巧的使用已经得心应手。</p>
<p>Zotero 的新手可以参考网上已有的中文教程<a href="http://www.yangzhiping.com/tech/zotero" target="_blank" rel="noopener">这里</a>和<a href="http://blog.yesmryang.net/tags/Zotero/" target="_blank" rel="noopener">这里</a>。本文并不详尽，仅旨在对 Zotero 的使用方法做一些个人推荐。</p>
<p>需要指出，本文覆盖了 Zotero 的安装、设置、使用等方面，可以作为一个 stand-alone 教程，阅读本文并不依赖于首先阅读其他 Zotero 的介绍文章（事实上网上大多数介绍文章写的并不咋滴）。我为这个主题写了两个文章，分别是：</p>
<ol>
<li>安装与设置</li>
<li>使用技巧（待填）</li>
</ol>
<p>本文是第一部分。</p>
<h2 id="安装-zotero-及其插件"><a class="anchor" href="#安装-zotero-及其插件"></a>安装 Zotero 及其插件</h2>
<p>在 <a href="https://www.zotero.org/download/" target="_blank" rel="noopener">Zotero 官网</a>下载安装 Zotero 和 Zotero Connector。后者是一个浏览器插件，方便即时从网页抓取 item 至 Zotero (使用方法在下一篇)。</p>
<p>Zotero 实质上是一个数据库，每个文章都是一个 item，每个 item 下有许多 field，如 item type, title, author, year, publication, doi... 每个 item 还对应了它的 pdf（或其他文件），称作附件。一个 item 可以没有附件，也可以有多个附件。</p>
<p><img src="/images/Zotero/Zotero_Main_Interface.png" alt="Zotero 主界面"><span class="image-caption">Zotero 主界面</span></p>
<p>主界面分成三栏。左边栏上半部分是 collections，下半部分是 tags，两者的区别见下一篇。中间栏是主数据区，所有的文献在这里出现。每个 column 对应一个 field。由于 field 众多，用户可以指定显示 column。如上图中，我选择显示了 title, creator, year, publication, extra。其中 extra 下的数字表示 google scholar 引用数（需安装 Scholar Citations 插件）。最左的 column 是一个 <code>便签</code> 图标，数字表示这个 item 下有几个笔记。右边栏显示某个 item 的所有 field，同时还负责为其添加笔记，tag 等。可以看到用它管理文献还是很方便的。</p>
<p>Zotero 官网有<a href="https://www.zotero.org/support/plugins" target="_blank" rel="noopener">所有插件的列表</a>。每个插件都附有简介。个人最推荐的三个插件是：</p>
<ul>
<li><a href="http://zotfile.com/" target="_blank" rel="noopener">ZotFile</a>：管理 item 附件的插件。以操作 pdf 文件为主，如自动重命名（<code>author-year-title.pdf</code>），按 collection 移动文件到文件夹，将用户在 pdf 上的注释和高亮提取成独立笔记。</li>
<li><a href="https://github.com/beloglazov/zotero-scholar-citations" target="_blank" rel="noopener">Scholar Citations</a>：用于自动（批量）提取每个文章的 Google Scholar 引用数。</li>
<li><a href="https://github.com/retorquere/zotero-better-bibtex" target="_blank" rel="noopener">Better BibTeX</a>：用于增强 Zotero 的参考文献输出功能。如果你不使用 LaTeX 写文章，也许不必安装。</li>
</ul>
<p>首先下载插件安装包（<code>.xpi</code> 后缀）。打开 Zotero 软件，点击菜单栏的 Tools → Add-ons，进入 Add-ons Manager. 点击右上角的 <code>齿轮</code> 图标，点击 <code>Install Add-on From File</code>，弹出文件浏览器，选中插件安装包并安装。</p>
<p><img src="/images/Zotero/addons_manager.png" alt="Add-ons Manager"><span class="image-caption">Add-ons Manager</span></p>
<p>可以顺便勾选上图中的 <code>Update Add-ons Automatically</code> 以自动安装插件更新。</p>
<h2 id="zotero-设置"><a class="anchor" href="#zotero-设置"></a>Zotero 设置</h2>
<p>进入 preference。</p>
<p>在 <code>General</code> tab 下<strong>取消勾选</strong> <code>Automatically take snapshots when creating items from web pages</code>。此选项用于为 item 自动抓取网页快照，实际上根本用不到，反而在硬盘中产生许多琐碎的网页文件。</p>
<p><img src="/images/Zotero/Zotero_General.png" alt="General Tab"><span class="image-caption">General Tab</span></p>
<p>在 <code>Sync</code> tab 下创建 Zotero 账户，并登陆。<strong>勾上 Data Syncing 下的那两个选项</strong>。Zotero 官方提供的同步，分为数据同步和文件同步。数据部分同步文献数据库，可以无限存。文件部分同步 pdf、笔记等附件，只有 300MB 的免费额度。鉴于未来数据库逐渐变大，很容易超过 300MB 限制，建议考虑通过 Dropbox、Google Drive、坚果云等第三方网盘存储附件，<strong>取消勾选</strong> File Syncing 下的那两个选项。</p>
<p><img src="/images/Zotero/Zotero_Sync.png" alt="Sync Tab"><span class="image-caption">Sync Tab</span></p>
<p>在 <code>Cite</code> tab 下，<code>Word Prcessor</code> 小 tab。安装 Microsoft Word 插件。</p>
<h2 id="用第三方网盘同步-zotero"><a class="anchor" href="#用第三方网盘同步-zotero"></a>用第三方网盘同步 Zotero</h2>
<h3 id="背景-可跳过不看"><a class="anchor" href="#背景-可跳过不看"></a>背景（可跳过不看）</h3>
<p>注：如果你只打算把 Zotero 装在一台电脑上，可以在 Zotero → Preferences → Advanced → Files and Folders 下，将 <code>Data Directory Location</code> 设置到 <code>网盘路径/Zotero</code> 下。当然如果你打算万年不用网盘，也可以不改变 <code>Data Directory Location</code>，保持默认路径即可。以下部分适用于多台机器同步 Zotero 的情形。</p>
<p>我在实验室电脑和自己的 Mac 上都安装了 Zotero，这种情况下需要保持两台电脑对 Zotero 数据的同步，确保可以随时同步查看我自己添加的笔记，文献的 pdf 等各种文件。</p>
<p>如果你只是简单将 Zotero 的数据存储位置改到网盘里的话，同时在两台电脑打开 Zotero 并操作，很容易导致两台电脑的数据不一致。网盘不知道该以哪台电脑的数据库为准。如此会在 Zotero 文件夹下形成几十个冲突的 <code>zotero.sqlite</code> 文件。不甚优雅。还可能导致数据库损坏。</p>
<p>我们可以利用 Zotero 官方的数据同步功能（上一小节已提及）来同步数据库，使用 symlink（符号链接）的形式同步文件。符号链接是一种软链接，由一个文件夹指向另一个文件夹。操作系统访问符号链接所在文件夹时，会自动跳转到所指向的源文件夹，仿佛直接在访问源文件夹。</p>
<h3 id="操作-从这里开始"><a class="anchor" href="#操作-从这里开始"></a>操作（从这里开始）</h3>
<ul>
<li><strong>首先关闭 Zotero</strong>。</li>
<li><strong>如果是第一次使用网盘同步（网盘里已经有zotero数据的可以跳过这一步）</strong>。在网盘中创建 <code>Zotero</code> 文件夹（假设路径为 <code>网盘路径/Zotero</code>），将<strong>本地</strong>的 <code>Zotero</code> 文件夹下的 <code>storage</code> 文件夹（即 <code>本地目录/Zotero/storage</code>，里面存着所有 pdf 等文件) 复制粘贴至 <code>网盘路径/Zotero</code> 下。</li>
<li><strong>删除</strong><code>本地目录/Zotero/storage</code>文件夹。因为 symlink 创建时，如果存在同名文件夹会导致创建失败。</li>
<li><strong>创建 symlink</strong></li>
</ul>
<p>在 macOS 终端 (terminal) 里输入如下命令</p>
<pre><code>ln -s &quot;网盘路径/Zotero/storage&quot; &quot;本地目录/Zotero/storage&quot;
</code></pre>
<p>或在 Windows 命令行 (cmd) 里输入如下命令（<strong>注意顺序和macOS是反的</strong>）</p>
<pre><code>mklink /D &quot;本地目录/Zotero/storage&quot; &quot;网盘路径/Zotero/storage&quot;
</code></pre>
<p>如此一来，pdf、笔记等文件实际存在网盘内，但是 Zotero 可以工作在本地，互不干扰。</p>
<h3 id="验证-symlink-创建成功"><a class="anchor" href="#验证-symlink-创建成功"></a>验证 symlink 创建成功</h3>
<p><strong>在 macOS 下</strong>  <code>本地目录/Zotero</code> 下可以看到 <code>storage</code> 文件夹的图标多了小箭头。双击则跳转到网盘路径。如下图所示。</p>
<p><img src="/images/Zotero/Mac_Symlink.png" alt="创建符号链接"><span class="image-caption">创建符号链接</span></p>
<p><strong>在 Windows 下</strong>，可以把 <code>本地目录/Zotero/storage</code> 粘贴至资源管理器的地址栏并回车，则跳转到网盘路径。</p>
<h2 id="插件设置"><a class="anchor" href="#插件设置"></a>插件设置</h2>
<p>Scholar Citations 插件没有设置选项，直接使用就可以了。</p>
<h3 id="zotfile"><a class="anchor" href="#zotfile"></a>ZotFile</h3>
<p>ZotFile 的设置界面在 Zotero Menu → Tools → ZotFile Preferences.</p>
<p>在 <code>General Settings</code> tab 下，清空 <code>Source Folder for Attaching New Files</code> 的路径，不让 ZotFile 监控下载文件夹新增的 pdf。</p>
<p><code>Location of Files</code> 选择 <code>Attach stored copy of file(s)</code>。<strong>不要选择</strong> <code>Custom Location</code>。它的初衷是把所有 pdf 附件按 collection 存在单独的文件夹下，方便使用者管理这些 pdf 文件。但是它忽略了一个文章可以存在于多个 collection 下，这么存反而不符合 collection 的逻辑。并且日后遇到修改 collection 的名称，合并 collection 等情况，就更惨了，文件并不会自动搬运到新 collection 下。如果为了方便输出一个 collection 下的所有 pdf，下一篇文章有详细技巧介绍。</p>
<p><code>Renaming Rules</code> tab 可用于设置 pdf 的改名规则。比如我的规则为 <code>{%a_}{%y_}{%t}</code>，那么我的 pdf 文件名会长成这样 <code>Sarin et al_2014_Multiple asymmetric traveling salesmen problem with and without precedence constraints.pdf</code>。</p>
<p><code>Advanced Settings</code> tab 下，一般保持默认即可。可根据需要自行设置。</p>
<p>ZofFile 在新导入 item 时，会自动提取 pdf 的 toc (table of contents)，显示在 Zotero 界面里就是一个笔记文件。Zotero 在主界面的中间栏可以显示每个 item 下的笔记数，我只想让数字显示我自己的笔记数量，而不想每个 pdf 都显示一个笔记，这会非常混乱，很难发现哪些文章已经做过笔记了。取消自动提取 toc 的地方有点隐蔽，我们需要进入 Zotero Preferences → Advanced tab → General 小 tab → 点击 <code>Config Editor</code> 按钮。这里是高级选项，Zotero 弹出提示是否接受风险，选择接受。在搜索栏键入 <code>zotfile.pdfOutline.getToc</code>，它是一个 boolean 变量，将其切换为 false，取消自动提取 toc。</p>
<h3 id="better-bibtex"><a class="anchor" href="#better-bibtex"></a>Better BibTeX</h3>
<p>Better BibTeX 用于管理参考文献，主要面向 LaTeX 用户，管理 <code>.bib</code> 文件。</p>
<p>Better BibTeX 在 Zotero Preferences 下的 <code>Better BibTeX</code> tab 内。官方设置文档<a href="https://github.com/retorquere/zotero-better-bibtex/wiki/Configuration" target="_blank" rel="noopener">戳这里</a>。这里提几个我觉得有用的设置。</p>
<p><code>Citation keys</code> 小 tab 下，可以设置 citation key 的格式，这个插件采用了 JabRef 规则，可以参考 <a href="https://retorque.re/zotero-better-bibtex/citation-keys/" target="_blank" rel="noopener">这里</a> 和<a href="https://help.jabref.org/en/BibtexKeyPatterns" target="_blank" rel="noopener">这里</a>。我自己折腾了一个很蛋疼的 pattern，<code>[auth:lower][year][Title:nopunct:select,1,2:condense,_:lower:fold][0]</code>，大概效果是对于这么一个文献</p>
<blockquote>
<p>Sarin, S. C., Sherali, H. D., Judd, J. D., &amp; Tsai, P.-F. (Jennifer). (2014). Multiple asymmetric traveling salesmen problem with and without precedence constraints: Performance comparison of alternative formulations. Computers &amp; Operations Research, 51, 64–89.</p>
</blockquote>
<p>它的 citation key 长这样：<code>sarin2014multiple_asymmetric</code>，全小写，第一作者姓氏接年份，然后接标题的头两个单词（下划线连接）。</p>
<p><code>Export</code> 小 tab 下，可以设置哪些 field 不必输出到 <code>.bib</code> 内，避免了臃肿，我设置了 file, note, keywords, abstract。</p>
<h2 id="总结"><a class="anchor" href="#总结"></a>总结</h2>
<p>本文介绍了 Zotero 的安装，插件，与推荐的设置。还介绍了如何利用第三方网盘同步 Zotero。下一篇文章将介绍一些 Zotero 的使用技巧。</p>

            </div>
    

    
      <div class="post-footer">
        <div class="tags">
          
            <a class="post-tag" href="/tags/折腾/">折腾</a>
          
       </div>

        
        
  <nav class="post-nav pagination">
    
      <a class="pagination-previous" href="/posts/20190217-convex-function-lipschitz-smooth-strongly-convex/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">凸函数，Lipschitz smooth, strongly convex</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="pagination-next" href="/posts/20180521-quebec-city/">
        <span class="next-text nav-default">魁北克</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script>

<div class="comments" id="comments">
    <div id="vcomments"></div>
    <script>
        new Valine({
            el: '#vcomments' ,
            appId: '0Kg4nfVVDNlSkugkA0meEIy9-gzGzoHsz',
            appKey: 'yCYv0a0B6QIAJYgLzCxgsHOh',
            notify: true,
            avatar:'mp',
            placeholder: '来啊，吐槽一番！',
            visitor: true,
        });
    </script>
</div>


      </div>
    

    </article>

        </div>
    </div>
    
    <div class="column" id="secondary">
        <div class="post-toc">
            <div class="toc-title">Contents</div>
            <div class="post-toc-content">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-zotero-及其插件"><span class="toc-text">安装 Zotero 及其插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#zotero-设置"><span class="toc-text">Zotero 设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#用第三方网盘同步-zotero"><span class="toc-text">用第三方网盘同步 Zotero</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#背景-可跳过不看"><span class="toc-text">背景（可跳过不看）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#操作-从这里开始"><span class="toc-text">操作（从这里开始）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#验证-symlink-创建成功"><span class="toc-text">验证 symlink 创建成功</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#插件设置"><span class="toc-text">插件设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#zotfile"><span class="toc-text">ZotFile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#better-bibtex"><span class="toc-text">Better BibTeX</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li></ol>
            </div>
        </div>
    </div>
    
</div>

    </div>

    <footer class="footer"><div class="content has-text-centered">
    
        &copy;
    
        2011 -
    
    2019
    <span class="footer-author">F. Sun</span>

    
</div>

    </footer>

    <a class="back-to-top" onclick="topFunction()" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </a>

    <script type="text/javascript">
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("back-to-top").style.display = "block";
  } else {
    document.getElementById("back-to-top").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}

function leftArrowPressed() {
   prevUrl = document.getElementsByClassName("pagination-previous")[0].href
   window.location.assign(prevUrl)
}

function rightArrowPressed() {
  nextUrl = document.getElementsByClassName("pagination-next")[0].href
   window.location.assign(nextUrl)
}

document.onkeydown = function(evt) {
    evt = evt || window.event;
    switch (evt.keyCode) {
        case 37:
            leftArrowPressed();
            break;
        case 39:
            rightArrowPressed();
            break;
    }
};
</script>

    
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-49265936-4', 'auto');
        ga('send', 'pageview');
  </script>

    <script src="js/instantclick.min.js" data-no-instant></script>
    <script data-no-instant>InstantClick.init();</script>
  </body>
</html>
